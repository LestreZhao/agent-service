graph LR
    coordinator["coordinator<br/>与用户交互，接收任务需求"]
    planner["planner<br/>制定详细执行计划，分解任务步骤"]
    supervisor{supervisor<br/>协调各个智能体，决定下一步行动}
    researcher["researcher<br/>进行网络搜索和信息收集"]
    coder["coder<br/>执行Python代码和数据处理"]
    browser["browser<br/>浏览器自动化操作"]
    reporter["reporter<br/>整合所有执行结果，生成最终报告"]
    db_analyst["db_analyst<br/>数据库查询和分析"]
    document_parser["document_parser<br/>文档解析和内容分析"]
    start([开始])
    end([结束])

    start --> coordinator
    coordinator --> planner
    planner --> supervisor
    supervisor -->|路由到researcher| researcher
    supervisor -->|路由到coder| coder
    supervisor -->|路由到browser| browser
    supervisor -->|路由到reporter| reporter
    supervisor -->|路由到db_analyst| db_analyst
    supervisor -->|路由到document_parser| document_parser
    researcher --> supervisor
    coder --> supervisor
    browser --> supervisor
    db_analyst --> supervisor
    document_parser --> supervisor
    reporter --> end
    supervisor -->|任务完成| end

    classDef startEnd fill:#4CAF50,stroke:#333,stroke-width:2px,color:#fff
    classDef coordinator fill:#E3F2FD,stroke:#333,stroke-width:2px
    classDef planner fill:#F3E5F5,stroke:#333,stroke-width:2px  
    classDef supervisor fill:#FFF3E0,stroke:#333,stroke-width:2px
    classDef executor fill:#E8F5E8,stroke:#333,stroke-width:2px
    classDef reporter fill:#FFEBEE,stroke:#333,stroke-width:2px
    
    class start,end startEnd
    class coordinator coordinator
    class planner planner
    class supervisor supervisor
    class researcher,coder,browser,db_analyst,document_parser executor
    class reporter reporter
